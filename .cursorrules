# 프로젝트 개발 원칙 및 에이전트 행동 지침 (.cursorrules)

## 1. 기본 원칙 (Fundamentals)
- **언어 (Language)**: 모든 생각(Thought), 대화, 코드 주석, 커밋 메시지는 **반드시 한국어**로 작성한다.
- **아키텍처 (Architecture)**: Next.js 16 App Router 기반의 Server Components 아키텍처를 엄격히 준수한다.
- **스타일링 (Styling)**: **SCSS Modules**(`*.module.scss`)를 유일한 스타일링 방식으로 채택한다. (Tailwind CSS 사용 금지)

## 2. 성능 최적화 가이드라인 (Performance Optimization)
이 프로젝트의 핵심 가치는 **빠른 속도와 효율성**이다. 다음 패턴을 반드시 따른다.

### 2.1 데이터 페칭 전략 (Data Fetching)
- **위치**: 데이터 로딩은 가능한 한 **최상위 `page.tsx`(Server Component)**에서 수행한다.
- **전달**: 하위 클라이언트 컴포넌트는 데이터를 직접 fetch하지 않고, 부모로부터 **props**로 전달받는다.
- **병렬 처리**: 서로 의존성이 없는 비동기 요청은 반드시 `Promise.all()`로 병렬 실행한다.
  ```typescript
  // ✅ Good: 병렬 실행
  const [user, reservations] = await Promise.all([
    getUser(),
    getReservations()
  ]);
  
  // ❌ Bad: 순차 실행 (Waterfall)
  const user = await getUser();
  const reservations = await getReservations();
  ```

### 2.2 렌더링 최적화
- **Use Client**: `useState`, `useEffect`, 이벤트 핸들러가 꼭 필요한 컴포넌트 최상단에만 `'use client'`를 명시한다.
- **스켈레톤 UI**: 각 페이지 폴더(`app/xyz/`)에는 반드시 `loading.tsx`를 구현하여 즉각적인 로딩 피드백을 제공한다.

## 3. 코드 품질 및 스타일 (Code Quality)
- **타입스크립트**: `any` 타입 사용을 엄격히 금지한다. 공용 타입은 `app/types/index.ts`에 정의된 인터페이스를 사용한다.
- **명명 규칙**:
  - 컴포넌트: `PascalCase` (예: `ReservationCard.tsx`)
  - 함수/변수: `camelCase` (예: `fetchUserData`)
  - 상수: `UPPER_SNAKE_CASE` (예: `MAX_RETRY_COUNT`)
- **주석**: 복잡한 로직이나 비즈니스 규칙이 포함된 부분에는 반드시 한국어 설명 주석을 첨부한다.

## 4. 데이터베이스 및 백엔드 (Supabase)
- **직접 접근**: 관리자(Admin) 기능 등 서버 사이드 로직에서는 불필요한 HTTP API 호출 대신 **Supabase 클라이언트를 통해 DB 테이블에 직접 접근**하여 오버헤드를 줄인다.
- **보안**: 클라이언트(`Browser Client`)에서 민감한 데이터를 다룰 때는 RLS(Row Level Security) 정책이 올바르게 적용되었는지 항상 고려한다.

## 5. UI/UX 디자인 원칙
- **모바일 퍼스트**: 모든 UI는 모바일 화면(360px~480px)을 기준으로 먼저 설계하고, 데스크탑은 미디어 쿼리로 대응한다.
- **미니멀리즘**: 불필요한 장식은 배제하고, 목적에 집중한 깔끔한 디자인을 추구한다.
- **피드백**: 사용자의 모든 액션(클릭, 저장, 삭제 등)에는 즉각적인 시각적 피드백(Toast, Loading Spinner 등)이 동반되어야 한다.

## 6. 에이전트 행동 지침 (Agent Behavior)
- **능동적 제안**: 사용자의 요청을 수동적으로만 따르지 말고, 더 나은 성능이나 구조적인 개선안이 보이면 적극적으로 제안한다.
- **검증**: 코드를 수정하거나 기능을 추가한 후에는 반드시 빌드(`npm run build`)나 린트(`npm run lint`)를 통해 무결성을 검증한다.
- **히스토리 파악**: 이전 대화 맥락을 파악하여 중복된 질문을 하지 않는다.
